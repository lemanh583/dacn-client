(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37b73324"],{"498a":function(e,t,n){"use strict";var a=n("23e7"),r=n("58a8").trim,c=n("c8d2");a({target:"String",proto:!0,forced:c("trim")},{trim:function(){return r(this)}})},"6d67":function(e,t,n){"use strict";n.r(t);n("b0c0");var a=n("7a23"),r=function(e){return Object(a["pushScopeId"])("data-v-9160c376"),e=e(),Object(a["popScopeId"])(),e},c={style:{background:"linear-gradient(to right, #33ccff 0%, #ff99cc 100%)",padding:"30px 0"}},o={class:"table-content update-post"},l=r((function(){return Object(a["createElementVNode"])("h3",null,[Object(a["createElementVNode"])("strong",null,"Bài viết")],-1)})),i=r((function(){return Object(a["createElementVNode"])("strong",null,"Trạng thái: ",-1)})),u={class:"text-danger"},d=r((function(){return Object(a["createElementVNode"])("strong",null,"Tác giả: ",-1)})),s={style:{color:"red"}},p={method:"POST",enctype:"multipart/form-data"},b={class:"form-group"},m=r((function(){return Object(a["createElementVNode"])("label",{for:"exampleInputEmail1"},[Object(a["createElementVNode"])("strong",null,"Chọn thể loại bài viết")],-1)})),f=["value"],v={class:"form-group"},O=r((function(){return Object(a["createElementVNode"])("label",{for:"exampleInputEmail1"},[Object(a["createElementVNode"])("strong",null,"Nhập tiêu đề bài viết")],-1)})),j={class:"form-group"},h=r((function(){return Object(a["createElementVNode"])("label",{for:"exampleInputEmail1"},[Object(a["createElementVNode"])("strong",null,"Tải lên ảnh bìa")],-1)})),g=["src"],V={class:"form-group"},E=r((function(){return Object(a["createElementVNode"])("label",{for:"exampleInputPassword1"},[Object(a["createElementVNode"])("strong",null,"Mô tả")],-1)})),N=r((function(){return Object(a["createElementVNode"])("label",{for:"exampleInputPassword1"},[Object(a["createElementVNode"])("strong",null,"Nội dung")],-1)})),y={id:"editor"};function x(e,t,n,r,x,w){var k=Object(a["resolveComponent"])("ckeditor"),C=Object(a["resolveComponent"])("notifications");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[Object(a["createElementVNode"])("div",o,[l,Object(a["createElementVNode"])("h5",null,[i,Object(a["createElementVNode"])("span",u,Object(a["toDisplayString"])("1"==r.approved?"Đã duyệt":"Chưa duyệt"),1)]),Object(a["createElementVNode"])("h5",null,[d,Object(a["createElementVNode"])("span",s,Object(a["toDisplayString"])(r.author.name)+" / "+Object(a["toDisplayString"])(r.author.email),1)]),Object(a["createElementVNode"])("form",p,[Object(a["createElementVNode"])("div",b,[m,Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.selectCate=e}),class:"custom-select form-control",style:{width:"50%"}},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(r.listCategory,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:t,value:e._id},Object(a["toDisplayString"])(e.name),9,f)})),128))],512),[[a["vModelSelect"],r.selectCate]])]),Object(a["createElementVNode"])("div",v,[O,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control",id:"",placeholder:"Nhập tiêu đề","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.title=e})},null,512),[[a["vModelText"],r.title]])]),Object(a["createElementVNode"])("div",j,[h,Object(a["createElementVNode"])("input",{type:"file",class:"form-control",id:"inputGroupFile02",name:"upload",onChange:t[2]||(t[2]=function(e){return r.handleGetImg(e)})},null,32),Object(a["createElementVNode"])("img",{src:r.srcImg,alt:"bcxvbxcvb"},null,8,g)]),Object(a["createElementVNode"])("div",V,[E,Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{type:"text",class:"form-control",id:"",placeholder:"Nhập mô tả","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.descriptions=e})},null,512),[[a["vModelText"],r.descriptions]])]),N,Object(a["createElementVNode"])("div",y,[Object(a["createVNode"])(k,{editor:r.editor,modelValue:r.editorData,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.editorData=e}),config:r.editorConfig,style:{width:"500px",height:"300px"}},null,8,["editor","modelValue","config"])]),Object(a["createElementVNode"])("button",{type:"submit",class:"btn btn-primary btn-submit",onClick:t[5]||(t[5]=function(){return r.handleCreate&&r.handleCreate.apply(r,arguments)})}," Submit ")]),Object(a["createVNode"])(C)])])}var w=n("1da1"),k=(n("96cf"),n("498a"),n("99af"),n("fb3d")),C=n.n(k),I=n("bfbe"),D=n("bc3a"),S=n.n(D),B=n("6c02"),R={setup:function(){var e=C.a,t=Object(B["c"])(),n=Object(a["ref"])(""),r=Object(a["ref"])({}),c=Object(a["ref"])(""),o=Object(a["ref"])(""),l=Object(a["ref"])(""),i=localStorage.getItem("token"),u=Object(a["ref"])(null),d=Object(a["ref"])(""),s=Object(a["ref"])(""),p=Object(a["ref"])([]),b=Object(a["ref"])(),m=Object(a["ref"])({height:"500px",ckfinder:{uploadUrl:"http://localhost:3002/api/image/create"}}),f=function(e){u.value=e.target.files[0]},v=function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),a=new FormData,a.append("file",u.value),a.append("title",o.value.trim()),a.append("descriptions",l.value.trim()),a.append("content",c.value),a.append("category",s.value),e.next=10,S.a.post("".concat("https://news-dacn.herokuapp.com/api","/post/update/").concat(n.value),a,{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"multipart/form-data"}});case 10:r=e.sent,r.data.success&&Object(I["b"])({type:"success",title:"Cập nhật bài viết thành công"}),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](0),console.error(e.t0.response),Object(I["b"])({type:"error",title:"Tạo bài viết thất bại"});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("".concat("https://news-dacn.herokuapp.com/api","/category/list"));case 3:t=e.sent,t.data.success&&(p.value=t.data.data,s.value=p.value[0]._id,console.log("selectCate",s.value)),console.log("list",t),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();O();var j=function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("".concat("https://news-dacn.herokuapp.com/api","/post/get/").concat(t.params.id));case 3:a=e.sent,a.data.success&&a.data.data&&(c.value=a.data.data.content,o.value=a.data.data.title,l.value=a.data.data.descriptions,s.value=a.data.data.category._id,d.value=a.data.data.image.src,n.value=a.data.data._id,r.value=a.data.data.author,b.value=a.data.data.approved),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return j(),{editor:e,editorData:c,editorConfig:m,handleCreate:v,descriptions:l,title:o,handleGetImg:f,listCategory:p,selectCate:s,srcImg:d,author:r,approved:b}}},T=(n("80af"),n("6b0d")),_=n.n(T);const P=_()(R,[["render",x],["__scopeId","data-v-9160c376"]]);t["default"]=P},"80af":function(e,t,n){"use strict";n("bb0b")},bb0b:function(e,t,n){},c8d2:function(e,t,n){var a=n("5e77").PROPER,r=n("d039"),c=n("5899"),o="​᠎";e.exports=function(e){return r((function(){return!!c[e]()||o[e]()!==o||a&&c[e].name!==e}))}}}]);
//# sourceMappingURL=chunk-37b73324.0a869274.js.map