{"version":3,"sources":["webpack:///./src/components/CreatePost.vue","webpack:///./src/components/CreatePost.vue?5da4","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/components/CreatePost.vue?da6e","webpack:///./node_modules/core-js/internals/string-trim-forced.js"],"names":["style","class","method","enctype","for","id","selectCate","listCategory","item","index","key","value","_id","name","type","placeholder","title","handleGetImg","$event","descriptions","editor","editorData","config","editorConfig","handleCreate","setup","token","localStorage","getItem","img","height","ckfinder","uploadUrl","event","target","files","preventDefault","data","FormData","append","trim","a","post","headers","Authorization","response","success","document","getElementById","console","log","error","fetchCategory","get","list","__exports__","render","$","$trim","forcedStringTrimMethod","proto","forced","this","PROPER_FUNCTION_NAME","PROPER","fails","whitespaces","non","module","exports","METHOD_NAME"],"mappings":"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","file":"js/chunk-2062f4d0.86cda7d0.js","sourcesContent":["<template>\r\n  <div\r\n    style=\"\r\n      background: linear-gradient(to right, #33ccff 0%, #ff99cc 100%);\r\n      padding: 30px 0;\r\n    \"\r\n  >\r\n    <div class=\"table-content update-post\">\r\n      <h3>Tạo bài viết</h3>\r\n      <form method=\"POST\" enctype=\"multipart/form-data\">\r\n        <div class=\"form-group\">\r\n          <label for=\"exampleInputEmail1\">Chọn thể loại bài viết</label>\r\n          <select\r\n            v-model=\"selectCate\"\r\n            class=\"custom-select form-control\"\r\n            style=\"width: 50%\"\r\n          >\r\n            <!-- <option value=\"\" selected>Chọn thể loại</option> -->\r\n            <option\r\n              v-for=\"(item, index) in listCategory\"\r\n              :key=\"index\"\r\n              :value=\"item._id\"\r\n            >\r\n              {{ item.name }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label for=\"exampleInputEmail1\">Nhập tiêu đề bài viết</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"\"\r\n            placeholder=\"Nhập tiêu đề\"\r\n            v-model=\"title\"\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"exampleInputEmail1\">Tải lên ảnh bìa</label>\r\n          <input\r\n            type=\"file\"\r\n            class=\"form-control\"\r\n            id=\"inputGroupFile02\"\r\n            name=\"upload\"\r\n            @change=\"handleGetImg($event)\"\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"exampleInputPassword1\">Mô tả</label>\r\n          <textarea\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"\"\r\n            placeholder=\"Nhập mô tả\"\r\n            v-model=\"descriptions\"\r\n          />\r\n        </div>\r\n        <label for=\"exampleInputPassword1\">Nội dung</label>\r\n        <div id=\"editor\">\r\n          <ckeditor\r\n            :editor=\"editor\"\r\n            v-model=\"editorData\"\r\n            :config=\"editorConfig\"\r\n            style=\"width: 500px; height: 300px\"\r\n          ></ckeditor>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          class=\"btn btn-primary btn-submit\"\r\n          @click=\"handleCreate\"\r\n        >\r\n          Submit\r\n        </button>\r\n      </form>\r\n      <notifications />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport { notify } from \"@kyvg/vue3-notification\";\r\nimport axios from \"axios\";\r\nimport { ref } from \"vue\";\r\n\r\nexport default {\r\n  setup() {\r\n    const editor = ClassicEditor;\r\n    const editorData = ref(\"\");\r\n    const title = ref(\"\");\r\n    const descriptions = ref(\"\");\r\n    const token = localStorage.getItem(\"token\");\r\n    const img = ref(null);\r\n    const selectCate = ref(\"\");\r\n    const listCategory = ref([]);\r\n    const editorConfig = ref({\r\n      height: \"500px\",\r\n      ckfinder: {\r\n        uploadUrl: \"http://localhost:3002/api/image/create\",\r\n      },\r\n    });\r\n\r\n    const handleGetImg = (event) => {\r\n      img.value = event.target.files[0];\r\n      // console.log('event', event.target.files[0])\r\n      // console.log('eventsdvds', event)\r\n    };\r\n\r\n    const handleCreate = async (event) => {\r\n      try {\r\n        event.preventDefault();\r\n        let data = new FormData();\r\n        data.append(\"file\", img.value);\r\n        data.append(\"title\", title.value.trim());\r\n        data.append(\"descriptions\", descriptions.value.trim());\r\n        data.append(\"content\", editorData.value);\r\n        data.append(\"category\", selectCate.value);\r\n        let response = await axios.post(\r\n          `${process.env.VUE_APP_URL}/post/create`,\r\n          data,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          }\r\n        );\r\n        if (response.data.success) {\r\n          title.value = \"\";\r\n          descriptions.value = \"\";\r\n          editorData.value = \"\";\r\n          img.value = null;\r\n          document.getElementById(\"inputGroupFile02\").value = null;\r\n          notify({\r\n            type: \"success\",\r\n            title: \"Tạo bài viết thành công\",\r\n          });\r\n        }\r\n        console.log(\"res-creat-post\", response.data.data);\r\n      } catch (error) {\r\n        console.error(error.response);\r\n        notify({\r\n          type: \"error\",\r\n          title: \"Tạo bài viết thất bại\",\r\n        });\r\n      }\r\n    };\r\n\r\n    const fetchCategory = async () => {\r\n      try {\r\n        const list = await axios.get(\r\n          `${process.env.VUE_APP_URL}/category/list`\r\n        );\r\n        if (list.data.success) {\r\n          listCategory.value = list.data.data;\r\n          selectCate.value = listCategory.value[0]._id;\r\n          console.log(\"selectCate\", selectCate.value);\r\n        }\r\n        console.log(\"list\", list);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    fetchCategory();\r\n\r\n    return {\r\n      editor,\r\n      editorData,\r\n      editorConfig,\r\n      handleCreate,\r\n      descriptions,\r\n      title,\r\n      handleGetImg,\r\n      listCategory,\r\n      selectCate,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.btn-submit {\r\n  margin-top: 20px;\r\n  margin-left: 93%;\r\n}\r\n.update-post {\r\n  /* margin-top: 30px; */\r\n  width: 85%;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  margin-bottom: 0;\r\n  /* margin-top: 30px; */\r\n  /* display: flex; */\r\n  /* padding: 0 20px; */\r\n}\r\n</style>\r\n","import { render } from \"./CreatePost.vue?vue&type=template&id=1738e1c7&scoped=true\"\nimport script from \"./CreatePost.vue?vue&type=script&lang=js\"\nexport * from \"./CreatePost.vue?vue&type=script&lang=js\"\n\nimport \"./CreatePost.vue?vue&type=style&index=0&id=1738e1c7&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\DoAn\\\\dacn-client\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1738e1c7\"]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CreatePost.vue?vue&type=style&index=0&id=1738e1c7&scoped=true&lang=css\"","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n"],"sourceRoot":""}