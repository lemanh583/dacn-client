{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/views/updatePost.vue","webpack:///./src/views/updatePost.vue?adb5","webpack:///./src/views/updatePost.vue?4ecc","webpack:///./node_modules/core-js/internals/string-trim-forced.js"],"names":["$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","style","class","method","enctype","for","id","approved","author","name","email","selectCate","listCategory","item","index","key","value","_id","type","placeholder","title","handleGetImg","$event","src","srcImg","alt","descriptions","editor","editorData","config","editorConfig","handleCreate","setup","route","token","localStorage","getItem","img","height","ckfinder","uploadUrl","event","files","preventDefault","data","FormData","append","a","post","headers","Authorization","response","success","console","error","fetchCategory","get","list","log","fetchPost","params","content","category","image","__exports__","render","PROPER_FUNCTION_NAME","PROPER","fails","whitespaces","non","module","exports","METHOD_NAME"],"mappings":"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","file":"js/chunk-37b73324.0a869274.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","<template>\r\n  <div style=\"background: linear-gradient(to right, #33ccff 0%, #ff99cc 100%);padding: 30px 0;\">\r\n    <div class=\"table-content update-post\">\r\n      <h3> <strong>Bài viết</strong> </h3>\r\n      <h5>\r\n        <strong>Trạng thái: </strong>\r\n        <span class=\"text-danger\">{{approved == \"1\" ? \"Đã duyệt\" : \"Chưa duyệt\"}}</span>\r\n      </h5>\r\n      <h5>\r\n        <strong>Tác giả: </strong> \r\n        <span style=\"color: red\">{{ author.name }} / {{ author.email }} </span>\r\n      </h5>\r\n      <form method=\"POST\" enctype=\"multipart/form-data\">\r\n        <div class=\"form-group\">\r\n          <label for=\"exampleInputEmail1\"> <strong>Chọn thể loại bài viết</strong> </label>\r\n          <select\r\n            v-model=\"selectCate\"\r\n            class=\"custom-select form-control\"\r\n            style=\"width: 50%\"\r\n          >\r\n            <!-- <option value=\"\" selected>Chọn thể loại</option> -->\r\n            <option\r\n              v-for=\"(item, index) in listCategory\"\r\n              :key=\"index\"\r\n              :value=\"item._id\"\r\n            >\r\n              {{ item.name }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label for=\"exampleInputEmail1\"> <strong>Nhập tiêu đề bài viết</strong> </label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"\"\r\n            placeholder=\"Nhập tiêu đề\"\r\n            v-model=\"title\"\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"exampleInputEmail1\"> <strong>Tải lên ảnh bìa</strong> </label>\r\n          <input\r\n            type=\"file\"\r\n            class=\"form-control\"\r\n            id=\"inputGroupFile02\"\r\n            name=\"upload\"\r\n            @change=\"handleGetImg($event)\"\r\n          />\r\n          <img :src=\"srcImg\" alt=\"bcxvbxcvb\" />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"exampleInputPassword1\"> <strong>Mô tả</strong> </label>\r\n          <textarea\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"\"\r\n            placeholder=\"Nhập mô tả\"\r\n            v-model=\"descriptions\"\r\n          />\r\n        </div>\r\n        <label for=\"exampleInputPassword1\"> <strong>Nội dung</strong> </label>\r\n        <div id=\"editor\">\r\n          <ckeditor\r\n            :editor=\"editor\"\r\n            v-model=\"editorData\"\r\n            :config=\"editorConfig\"\r\n            style=\"width: 500px; height: 300px\"\r\n          ></ckeditor>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          class=\"btn btn-primary btn-submit\"\r\n          @click=\"handleCreate\"\r\n        >\r\n          Submit\r\n        </button>\r\n      </form>\r\n      <notifications />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport { notify } from \"@kyvg/vue3-notification\";\r\nimport axios from \"axios\";\r\nimport { ref } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\n\r\nexport default {\r\n  setup() {\r\n    const editor = ClassicEditor;\r\n    const route = useRoute();\r\n    const id = ref(\"\");\r\n    const author = ref({});\r\n    const editorData = ref(\"\");\r\n    const title = ref(\"\");\r\n    const descriptions = ref(\"\");\r\n    const token = localStorage.getItem(\"token\");\r\n    const img = ref(null);\r\n    const srcImg = ref(\"\");\r\n    const selectCate = ref(\"\");\r\n    const listCategory = ref([]);\r\n    const approved = ref()\r\n    const editorConfig = ref({\r\n      height: \"500px\",\r\n      ckfinder: {\r\n        uploadUrl: \"http://localhost:3002/api/image/create\",\r\n      },\r\n    });\r\n\r\n    const handleGetImg = (event) => {\r\n      img.value = event.target.files[0];\r\n      // console.log('event', event.target.files[0])\r\n      // console.log('eventsdvds', event)\r\n    };\r\n\r\n    const handleCreate = async (event) => {\r\n      try {\r\n        event.preventDefault();\r\n        let data = new FormData();\r\n        data.append(\"file\", img.value);\r\n        data.append(\"title\", title.value.trim());\r\n        data.append(\"descriptions\", descriptions.value.trim());\r\n        data.append(\"content\", editorData.value);\r\n        data.append(\"category\", selectCate.value);\r\n        let response = await axios.post(\r\n          `${process.env.VUE_APP_URL}/post/update/${id.value}`,\r\n          data,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          }\r\n        );\r\n        if (response.data.success) {\r\n          //   title.value = \"\";\r\n          //   descriptions.value = \"\";\r\n          //   editorData.value = \"\";\r\n          //   img.value = null\r\n          //   document.getElementById(\"inputGroupFile02\").value = null;\r\n          notify({\r\n            type: \"success\",\r\n            title: \"Cập nhật bài viết thành công\",\r\n          });\r\n        }\r\n        // console.log(\"res-creat-post\", response.data.data);\r\n      } catch (error) {\r\n        console.error(error.response);\r\n        notify({\r\n          type: \"error\",\r\n          title: \"Tạo bài viết thất bại\",\r\n        });\r\n      }\r\n    };\r\n\r\n    const fetchCategory = async () => {\r\n      try {\r\n        const list = await axios.get(\r\n          `${process.env.VUE_APP_URL}/category/list`\r\n        );\r\n        if (list.data.success) {\r\n          listCategory.value = list.data.data;\r\n          selectCate.value = listCategory.value[0]._id;\r\n          console.log(\"selectCate\", selectCate.value);\r\n        }\r\n        console.log(\"list\", list);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    fetchCategory();\r\n\r\n    const fetchPost = async () => {\r\n      try {\r\n        let response = await axios.get(\r\n          `${process.env.VUE_APP_URL}/post/get/${route.params.id}`\r\n        );\r\n        if (response.data.success && response.data.data) {\r\n          editorData.value = response.data.data.content;\r\n          title.value = response.data.data.title;\r\n          descriptions.value = response.data.data.descriptions;\r\n          selectCate.value = response.data.data.category._id;\r\n          srcImg.value = response.data.data.image.src;\r\n          id.value = response.data.data._id;\r\n          author.value = response.data.data.author;\r\n          approved.value = response.data.data.approved\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n    fetchPost();\r\n    // console.log('route', )\r\n\r\n    return {\r\n      editor,\r\n      editorData,\r\n      editorConfig,\r\n      handleCreate,\r\n      descriptions,\r\n      title,\r\n      handleGetImg,\r\n      listCategory,\r\n      selectCate,\r\n      srcImg,\r\n      author,\r\n      approved\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\nbody {\r\n  background-color: bisque;\r\n}\r\n.btn-submit {\r\n  margin-top: 20px;\r\n  margin-left: 93%;\r\n}\r\nimg {\r\n  margin-top: 20px;\r\n  max-width: 150px;\r\n  max-height: 150px;\r\n  object-fit: cover;\r\n  object-position: top;\r\n}\r\n.update-post {\r\n  /* margin-top: 30px; */\r\n  width: 85%;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  margin-bottom: 0;\r\n  /* margin-top: 30px; */\r\n  /* display: flex; */\r\n  /* padding: 0 20px; */\r\n}\r\n</style>\r\n","import { render } from \"./updatePost.vue?vue&type=template&id=9160c376&scoped=true\"\nimport script from \"./updatePost.vue?vue&type=script&lang=js\"\nexport * from \"./updatePost.vue?vue&type=script&lang=js\"\n\nimport \"./updatePost.vue?vue&type=style&index=0&id=9160c376&scoped=true&lang=css\"\n\nimport exportComponent from \"F:\\\\Đồ án chuyên ngành\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9160c376\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./updatePost.vue?vue&type=style&index=0&id=9160c376&scoped=true&lang=css\"","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n"],"sourceRoot":""}