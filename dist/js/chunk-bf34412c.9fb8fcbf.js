(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf34412c"],{3891:function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),c=function(e){return Object(r["pushScopeId"])("data-v-1738e1c7"),e=e(),Object(r["popScopeId"])(),e},a={style:{background:"linear-gradient(to right, #33ccff 0%, #ff99cc 100%)",padding:"30px 0"}},o={class:"table-content update-post"},l=c((function(){return Object(r["createElementVNode"])("h3",null,"Tạo bài viết",-1)})),i={method:"POST",enctype:"multipart/form-data"},u={class:"form-group"},d=c((function(){return Object(r["createElementVNode"])("label",{for:"exampleInputEmail1"},"Chọn thể loại bài viết",-1)})),s=["value"],p={class:"form-group"},b=c((function(){return Object(r["createElementVNode"])("label",{for:"exampleInputEmail1"},"Nhập tiêu đề bài viết",-1)})),m={class:"form-group"},f=c((function(){return Object(r["createElementVNode"])("label",{for:"exampleInputEmail1"},"Tải lên ảnh bìa",-1)})),v={class:"form-group"},h=c((function(){return Object(r["createElementVNode"])("label",{for:"exampleInputPassword1"},"Mô tả",-1)})),O=c((function(){return Object(r["createElementVNode"])("label",{for:"exampleInputPassword1"},"Nội dung",-1)})),j={id:"editor"};function g(e,t,n,c,g,E){var V=Object(r["resolveComponent"])("ckeditor"),N=Object(r["resolveComponent"])("notifications");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[Object(r["createElementVNode"])("div",o,[l,Object(r["createElementVNode"])("form",i,[Object(r["createElementVNode"])("div",u,[d,Object(r["withDirectives"])(Object(r["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.selectCate=e}),class:"custom-select form-control",style:{width:"50%"}},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.listCategory,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("option",{key:t,value:e._id},Object(r["toDisplayString"])(e.name),9,s)})),128))],512),[[r["vModelSelect"],c.selectCate]])]),Object(r["createElementVNode"])("div",p,[b,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text",class:"form-control",id:"",placeholder:"Nhập tiêu đề","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.title=e})},null,512),[[r["vModelText"],c.title]])]),Object(r["createElementVNode"])("div",m,[f,Object(r["createElementVNode"])("input",{type:"file",class:"form-control",id:"inputGroupFile02",name:"upload",onChange:t[2]||(t[2]=function(e){return c.handleGetImg(e)})},null,32)]),Object(r["createElementVNode"])("div",v,[h,Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{type:"text",class:"form-control",id:"",placeholder:"Nhập mô tả","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.descriptions=e})},null,512),[[r["vModelText"],c.descriptions]])]),O,Object(r["createElementVNode"])("div",j,[Object(r["createVNode"])(V,{editor:c.editor,modelValue:c.editorData,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.editorData=e}),config:c.editorConfig,style:{width:"500px",height:"300px"}},null,8,["editor","modelValue","config"])]),Object(r["createElementVNode"])("button",{type:"submit",class:"btn btn-primary btn-submit",onClick:t[5]||(t[5]=function(){return c.handleCreate&&c.handleCreate.apply(c,arguments)})}," Submit ")]),Object(r["createVNode"])(N)])])}var E=n("1da1"),V=(n("96cf"),n("498a"),n("fb3d")),N=n.n(V),w=n("bfbe"),y=n("bc3a"),k=n.n(y),x={setup:function(){var e=N.a,t=Object(r["ref"])(""),n=Object(r["ref"])(""),c=Object(r["ref"])(""),a=localStorage.getItem("token"),o=Object(r["ref"])(null),l=Object(r["ref"])(""),i=Object(r["ref"])([]),u=Object(r["ref"])({height:"500px",ckfinder:{uploadUrl:"http://localhost:3002/api/image/create"}}),d=function(e){o.value=e.target.files[0]},s=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(r){var i,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r.preventDefault(),i=new FormData,i.append("file",o.value),i.append("title",n.value.trim()),i.append("descriptions",c.value.trim()),i.append("content",t.value),i.append("category",l.value),e.next=10,k.a.post("".concat("https://news-dacn.herokuapp.com/api","/post/create"),i,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"}});case 10:u=e.sent,u.data.success&&(n.value="",c.value="",t.value="",o.value=null,document.getElementById("inputGroupFile02").value=null,Object(w["b"])({type:"success",title:"Tạo bài viết thành công"})),console.log("res-creat-post",u.data.data),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](0),console.error(e.t0.response),Object(w["b"])({type:"error",title:"Tạo bài viết thất bại"});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("".concat("https://news-dacn.herokuapp.com/api","/category/list"));case 3:t=e.sent,t.data.success&&(i.value=t.data.data,l.value=i.value[0]._id,console.log("selectCate",l.value)),console.log("list",t),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return p(),{editor:e,editorData:t,editorConfig:u,handleCreate:s,descriptions:c,title:n,handleGetImg:d,listCategory:i,selectCate:l}}},C=(n("9cde"),n("6b0d")),I=n.n(C);const D=I()(x,[["render",g],["__scopeId","data-v-1738e1c7"]]);t["default"]=D},"498a":function(e,t,n){"use strict";var r=n("23e7"),c=n("58a8").trim,a=n("c8d2");r({target:"String",proto:!0,forced:a("trim")},{trim:function(){return c(this)}})},"9cde":function(e,t,n){"use strict";n("bdc5")},bdc5:function(e,t,n){},c8d2:function(e,t,n){var r=n("5e77").PROPER,c=n("d039"),a=n("5899"),o="​᠎";e.exports=function(e){return c((function(){return!!a[e]()||o[e]()!==o||r&&a[e].name!==e}))}}}]);
//# sourceMappingURL=chunk-bf34412c.9fb8fcbf.js.map