{"version":3,"sources":["webpack:///./src/views/UpdateUser.vue","webpack:///./src/views/UpdateUser.vue?a3b2"],"names":["style","class","method","for","scope","active","$store","state","isRole","role","handleChageRole","arrRole","r","i","key","value","name","src","alt","type","id","placeholder","username","email","phone","date","handleGetImg","$event","handleUpdateUser","displayPass","display","password","handleChangePass","posts","p","index","title","slice","view","handleUpdate","slug","count","size","changePaginator","components","Pagination","setup","router","params","token","localStorage","getItem","user","skip","limit","imgSrc","img","a","post","headers","Authorization","response","data","success","console","error","event","preventDefault","log","e","target","files","FormData","append","values","fetchUser","push","path","pageNumber","Number","fetchPosts","get","filter","author","__exports__","render"],"mappings":"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","file":"js/chunk-2d0c1b38.6ebea539.js","sourcesContent":["<template>\r\n  <div style=\"background: linear-gradient(to right, #33ccff 0%, #ff99cc 100%); padding: 30px 0px;\">\r\n    <div class=\"container\" style=\"\">\r\n      <div class=\"row table-content\" style=\"margin-bottom: 0px\">\r\n        <div class=\"col-6\">\r\n          <div class=\"row\">\r\n            <div class=\"col-6\">\r\n              <h3 class=\"text-success\"><strong> Thông tin</strong></h3>\r\n              <h5>\r\n                <strong>Trạng thái: </strong>\r\n                <span class=\"text-danger\">\r\n                  {{ active ? \"active\" : \"ban\" }}</span\r\n                >\r\n              </h5>\r\n\r\n              <h5 v-if=\"this.$store.state.isRole == 0 && role != 0\">\r\n                <strong>Quyền:</strong>\r\n                <span style=\"margin-left: 10px\">\r\n                  <select v-model=\"role\" @change=\"handleChageRole\">\r\n                    <option v-for=\"(r, i) in arrRole\" :key=\"i\" :value=\"r.role\">\r\n                      {{ r.name }}\r\n                    </option>\r\n                  </select></span\r\n                >\r\n              </h5>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <img\r\n                :src=\"\r\n                  imgSrc\r\n                    ? imgSrc\r\n                    : 'http://windows79.com/wp-content/uploads/2021/02/Thay-the-hinh-dai-dien-tai-khoan-nguoi-dung-mac.png'\r\n                \"\r\n                alt=\"\"\r\n                style=\"\r\n                  width: 150px;\r\n                  height: 150px;\r\n                  object-fit: cover;\r\n                  border-radius: 50%;\r\n                \"\r\n              />\r\n            </div>\r\n          </div>\r\n          <form method=\"POST\">\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleInputEmail1\"> <strong>Username</strong></label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"\"\r\n                placeholder=\"Nhập username\"\r\n                v-model=\"username\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleInputEmail1\">\r\n                <strong>Tên người dùng</strong></label\r\n              >\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"\"\r\n                placeholder=\"Nhập tên\"\r\n                v-model=\"name\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleInputEmail1\"> <strong>Email</strong></label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"\"\r\n                placeholder=\"Nhập email\"\r\n                v-model=\"email\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleInputEmail1\">\r\n                <strong>Số điện thoại</strong></label\r\n              >\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"\"\r\n                placeholder=\"Nhập số điện thoại\"\r\n                v-model=\"phone\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleInputEmail1\">\r\n                <strong>Ngày sinh</strong></label\r\n              >\r\n              <input type=\"date\" class=\"form-control\" v-model=\"date\" />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleInputEmail1\">\r\n                <strong>Tải lên ảnh đại diện</strong></label\r\n              >\r\n              <input\r\n                type=\"file\"\r\n                class=\"form-control\"\r\n                id=\"inputGroupFile02\"\r\n                name=\"upload\"\r\n                @change=\"handleGetImg($event)\"\r\n              />\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-6\">\r\n                <input\r\n                  class=\"btn btn-success\"\r\n                  type=\"submit\"\r\n                  @click=\"handleUpdateUser\"\r\n                  value=\"Cập nhật\"\r\n                />\r\n              </div>\r\n              <div class=\"col-6\">\r\n                <button\r\n                  class=\"btn btn-warning\"\r\n                  @click=\"displayPass\"\r\n                  style=\"float: right\"\r\n                >\r\n                  Đổi mật khẩu\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <form v-if=\"display\" method=\"POST\" style=\"margin-top: 20px\">\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleInputEmail1\">\r\n                <strong>Đổi mật khẩu</strong></label\r\n              >\r\n              <input\r\n                type=\"password\"\r\n                class=\"form-control\"\r\n                id=\"\"\r\n                placeholder=\"Nhập mật khẩu\"\r\n                v-model=\"password\"\r\n              />\r\n            </div>\r\n            <button\r\n              class=\"btn btn-success\"\r\n              type=\"submit\"\r\n              @click=\"handleChangePass\"\r\n            >\r\n              Xác nhận thay đổi mật khẩu\r\n            </button>\r\n          </form>\r\n\r\n          <!-- {{ user.name }} -->\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <h3 class=\"text-warning\">\r\n            <strong>Danh sách bài viết đã đăng</strong>\r\n          </h3>\r\n          <table class=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">#</th>\r\n                <th scope=\"col\">Tiêu đề</th>\r\n                <th scope=\"col\">Lượt xem</th>\r\n                <th scope=\"col\">...</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(p, index) in posts\" :key=\"index\">\r\n                <th scope=\"row\">{{ index + 1 }}</th>\r\n                <td>{{ p.title.slice(0, 40) }}...</td>\r\n                <td>{{ p.view }}</td>\r\n                <td>\r\n                  <span class=\"text-warning\" @click=\"handleUpdate(p.slug)\"\r\n                    >Xem</span\r\n                  >\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <Pagination\r\n            :count=\"count\"\r\n            :size=\"10\"\r\n            @changePaginator=\"changePaginator\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <notifications />\r\n      <!-- {{ this.$route.params.id }} -->\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { ref } from \"vue\";\r\nimport axios from \"axios\";\r\nimport Pagination from \"../components/pagination.vue\";\r\nimport { notify } from \"@kyvg/vue3-notification\";\r\nexport default {\r\n  components: {\r\n    Pagination,\r\n  },\r\n  setup() {\r\n    const router = useRoute();\r\n    const id = router.params.id;\r\n    const token = localStorage.getItem(\"token\");\r\n    const user = ref({});\r\n    const posts = ref([]);\r\n    const skip = ref(0);\r\n    const limit = ref(10);\r\n    const count = ref(0);\r\n    const username = ref(\"\");\r\n    const name = ref(\"\");\r\n    const email = ref(\"\");\r\n    const imgSrc = ref(\"\");\r\n    const img = ref(\"\");\r\n    const active = ref(\"\");\r\n    const role = ref(null);\r\n    const phone = ref(\"\");\r\n    const date = ref(\"\");\r\n    const display = ref(false);\r\n    const password = ref(\"\");\r\n    // const arrRole = ref([]);\r\n    const arrRole = ref([\r\n      {\r\n        name: \"Moderator\",\r\n        role: 1,\r\n      },\r\n      {\r\n        name: \"Collaborators\",\r\n        role: 2,\r\n      },\r\n      {\r\n        name: \"Member\",\r\n        role: 3,\r\n      },\r\n    ]);\r\n\r\n    const handleChageRole = async () => {\r\n      try {\r\n        const response = await axios.post(\r\n          `${process.env.VUE_APP_URL}/user/change-role/${id}`,\r\n          {\r\n            role: role.value,\r\n          },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n        if (response.data.success) {\r\n          notify({\r\n            type: \"success\",\r\n            title: \"Sửa thành thành công\",\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error(error.response);\r\n      }\r\n    };\r\n\r\n    // const fetchRole = async () => {\r\n    //   try {\r\n    //     const response = await axios.get(\r\n    //       `${process.env.VUE_APP_URL}/role/list`\r\n    //     );\r\n    //     if (response.data.succes) {\r\n    //       arrRole.value = response.data.data;\r\n    //     }\r\n    //     console.log(\"role\", response.data);\r\n    //   } catch (error) {\r\n    //     console.error(error.response);\r\n    //   }\r\n    // };\r\n    // fetchRole();\r\n    const handleChangePass = async (event) => {\r\n      try {\r\n        event.preventDefault();\r\n        console.log(\"pass\", password.value);\r\n        let response = await axios.post(\r\n          `${process.env.VUE_APP_URL}/user/change-pass/${id}`,\r\n          {\r\n            password: password.value,\r\n          },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n        if (response.data.success) {\r\n          notify({\r\n            type: \"success\",\r\n            title: \"Thay đổi mật khẩu thành công\",\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error(error.response);\r\n        notify({\r\n          type: \"error\",\r\n          title: \"Thay đổi thất bại\",\r\n        });\r\n      }\r\n    };\r\n\r\n    const displayPass = (e) => {\r\n      e.preventDefault();\r\n      display.value = !display.value;\r\n    };\r\n    const handleGetImg = (event) => {\r\n      img.value = event.target.files[0];\r\n      // console.log('event', event.target.files[0])\r\n      // console.log('eventsdvds', event)\r\n    };\r\n\r\n    const handleUpdateUser = async (event) => {\r\n      event.preventDefault();\r\n      let data = new FormData();\r\n      data.append(\"username\", username.value);\r\n      data.append(\"name\", name.value);\r\n      data.append(\"email\", email.value);\r\n      if (img.value) {\r\n        data.append(\"file\", img.value);\r\n      }\r\n      if (phone.value) {\r\n        data.append(\"phone\", phone.value);\r\n      }\r\n      if (date.value) {\r\n        data.append(\"date\", date.value);\r\n      }\r\n      // console.log('data', data.values()\r\n      for (var value of data.values()) {\r\n        console.log(\"data\", value);\r\n      }\r\n      try {\r\n        let response = await axios.post(\r\n          `${process.env.VUE_APP_URL}/user/update/${id}`,\r\n          data,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          }\r\n        );\r\n        if (response.data.success) {\r\n          fetchUser();\r\n          notify({\r\n            type: \"success\",\r\n            title: \"Sửa thành thành công\",\r\n          });\r\n        }\r\n        console.log(\"res-update-user\", response.data);\r\n      } catch (error) {\r\n        console.error(error.response);\r\n        notify({\r\n          type: \"error\",\r\n          title: \"Sửa thất bại\",\r\n        });\r\n      }\r\n    };\r\n\r\n    const handleUpdate = (id) => {\r\n      useRouter().push({ path: `/update-post/${id}` });\r\n    };\r\n\r\n    const changePaginator = (pageNumber) => {\r\n      console.log(\"pageNumber\", pageNumber);\r\n      skip.value = Number(pageNumber - 1) * 10;\r\n      limit.value = 10;\r\n      console.log(\"limit\", limit.value);\r\n      fetchPosts();\r\n    };\r\n\r\n    const fetchUser = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `${process.env.VUE_APP_URL}/user/get/${id}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n        // console.log('respon-iser', response.data.data)\r\n        if (response.data.success) {\r\n          user.value = response.data.data;\r\n          username.value = response.data.data.username;\r\n          name.value = response.data.data.name;\r\n          email.value = response.data.data.email;\r\n          imgSrc.value = response.data.data.img\r\n            ? response.data.data.img.src\r\n            : \"\";\r\n          active.value = response.data.data.active;\r\n          role.value = response.data.data.role;\r\n          phone.value = response.data.data.phone\r\n            ? response.data.data.phone\r\n            : \"\";\r\n          date.value = response.data.data.date ? response.data.data.date : \"\";\r\n        }\r\n        // console.log('respon', response)\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    const fetchPosts = async () => {\r\n      try {\r\n        const response = await axios.post(\r\n          `${process.env.VUE_APP_URL}/post/list?limit=${limit.value}&skip=${skip.value}`,\r\n          {\r\n            filter: {\r\n              author: id,\r\n            },\r\n          }\r\n        );\r\n        if (response.data.success) {\r\n          posts.value = response.data.data;\r\n          count.value = response.data.count;\r\n          console.log(\"count\", response.data.count);\r\n        }\r\n        // console.log('respon-posts', response)\r\n      } catch (error) {\r\n        console.error(error.response);\r\n      }\r\n    };\r\n\r\n    fetchUser();\r\n    fetchPosts();\r\n    // console.log('router', router.params.id)\r\n    return {\r\n      user,\r\n      posts,\r\n      handleUpdate,\r\n      changePaginator,\r\n      count,\r\n      username,\r\n      email,\r\n      name,\r\n      imgSrc,\r\n      handleGetImg,\r\n      active,\r\n      role,\r\n      phone,\r\n      date,\r\n      displayPass,\r\n      display,\r\n      password,\r\n      handleUpdateUser,\r\n      handleChangePass,\r\n      arrRole,\r\n      handleChageRole,\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./UpdateUser.vue?vue&type=template&id=20cc2360\"\nimport script from \"./UpdateUser.vue?vue&type=script&lang=js\"\nexport * from \"./UpdateUser.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\DoAn\\\\dacn-client\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}